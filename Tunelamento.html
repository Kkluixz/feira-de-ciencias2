<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400;600;700&family=Science+Gothic:wght@100..900&display=swap" rel="stylesheet">
    <title>Tunelamento Quântico - Projeto Feira de Ciências</title>
    <style>
        /* Background com pontos de degradê - mesmas cores do inicio */
        body {
            position: relative;
            overflow-x: hidden;
        }

        .gradient-dots {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
            overflow: hidden;
        }

        /* Grid disfarçado no fundo */
        .gradient-dots::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255, 255, 0, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 0, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            opacity: 0.3;
            z-index: 0;
        }

        .gradient-dot {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.5;
            animation: float 20s infinite ease-in-out;
            z-index: 1;
        }

        .gradient-dot:nth-child(1) {
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, 
                rgba(255, 255, 0, 0.8) 0%, 
                rgba(255, 200, 0, 0.4) 30%,
                rgba(255, 150, 0, 0.2) 60%,
                transparent 100%);
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .gradient-dot:nth-child(2) {
            width: 350px;
            height: 350px;
            background: radial-gradient(circle, 
                rgba(255, 100, 0, 0.8) 0%, 
                rgba(255, 150, 0, 0.4) 30%,
                rgba(255, 200, 0, 0.2) 60%,
                transparent 100%);
            top: 60%;
            right: 15%;
            animation-delay: 3s;
        }

        .gradient-dot:nth-child(3) {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, 
                rgba(255, 0, 0, 0.8) 0%, 
                rgba(200, 0, 0, 0.4) 30%,
                rgba(150, 0, 0, 0.2) 60%,
                transparent 100%);
            bottom: 20%;
            left: 20%;
            animation-delay: 6s;
        }

        .gradient-dot:nth-child(4) {
            width: 450px;
            height: 450px;
            background: radial-gradient(circle, 
                rgba(255, 255, 0, 0.8) 0%, 
                rgba(255, 200, 0, 0.4) 30%,
                rgba(255, 150, 0, 0.2) 60%,
                transparent 100%);
            top: 40%;
            right: 30%;
            animation-delay: 9s;
        }

        .gradient-dot:nth-child(5) {
            width: 320px;
            height: 320px;
            background: radial-gradient(circle, 
                rgba(51, 32, 19, 0.8) 0%, 
                rgba(255, 150, 0, 0.4) 30%,
                rgba(255, 200, 0, 0.2) 60%,
                transparent 100%);
            bottom: 10%;
            right: 10%;
            animation-delay: 12s;
        }

        @keyframes float {
            0%, 100% {
                transform: translate(0, 0) scale(1);
            }
            25% {
                transform: translate(50px, -50px) scale(1.1);
            }
            50% {
                transform: translate(-30px, 30px) scale(0.9);
            }
            75% {
                transform: translate(40px, 40px) scale(1.05);
            }
        }

        /* Header que desaparece ao scrollar */
        header {
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s ease;
        }

        header.hidden {
            transform: translateY(-100%);
            opacity: 0;
        }

        /* Popup de navegação inferior - formato cápsula */
        .bottom-nav-popup {
            position: fixed;
            bottom: -120px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            width: 95%;
            max-width: 700px;
            background: rgba(0, 0, 0, 0.233);
            backdrop-filter: blur(25px) saturate(180%);
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 25px;
            padding: 15px 25px;
            box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.3),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: bottom 0.5s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.5s ease;
            opacity: 0;
        }

        .bottom-nav-popup.visible {
            bottom: 20px;
            opacity: 1;
        }

        .bottom-nav-popup-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 7.5px;
            position: relative;
        }

        .bottom-nav-link {
            flex: 1;
            padding: 10px 12px;
            background: transparent;
            border: none;
            border-radius: 20px;
            color: #ffffff;
            text-decoration: none;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Animação de líquido entre botões */
        .liquid-indicator {
            position: absolute;
            height: 100%;
            background: rgba(255, 255, 255, 0);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 0;
            box-shadow: 0 0 20px rgba(255, 255, 0, 0.3);
        }

        .bottom-nav-link.active {
            color: #ffffff;
        }

        .bottom-nav-link:hover {
            color: #ffffff;
        }

        @media (max-width: 768px) {
            .bottom-nav-popup {
                width: 100%;
                border-radius: 30px 30px 0 0;
                padding: 12px 15px;
                bottom: -100px;
            }

            .bottom-nav-popup.visible {
                bottom: max(env(safe-area-inset-bottom, 0px), 12px);
            }

            .bottom-nav-link {
                font-size: 0.65rem;
                padding: 8px 8px;
                letter-spacing: 0.3px;
            }

            .bottom-nav-popup-content {
                gap: 5px;
            }
        }

        @media (max-width: 480px) {
            .bottom-nav-link {
                font-size: 0.6rem;
                padding: 8px 6px;
            }
        }

        /* Cards com cores sólidas baseadas nas imagens - Tunelamento */
        .nasa-section .nasa-card {
            background: transparent !important;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        /* Seção 1 - Explicação (barreirafroht.jpeg - amarelo/marrom) */
        .nasa-section:nth-of-type(2) .nasa-card {
            background: linear-gradient(135deg, #9da004 0%, #8B6914 100%) !important;
        }

        /* Seção 2 - Experimento (barreiracapa.jpeg - amarelo/marrom) */
        .nasa-section:nth-of-type(3) .nasa-card {
            background: linear-gradient(135deg, #B8860B 0%, #8B6914 100%) !important;
        }

        /* Seção 3 - Importância (protons.jpeg - vermelho/rosa) */
        .nasa-section:nth-of-type(5) .nasa-card {
            background: linear-gradient(135deg, #DC143C 0%, #8B0000 100%) !important;
        }

        /* Seção 4 - Conclusão (espaço.jpg - azul escuro/preto) */
        .nasa-section:nth-of-type(6) .nasa-card {
            background: linear-gradient(135deg, #d6e4ff 0%, #000000 100%) !important;
        }

        /* Seção 5 - Novo Tópico (terrailuminada.jpg - azul/verde) */
        .nasa-section:nth-of-type(7) .nasa-card {
            background: linear-gradient(135deg, #1E3A5F 0%, #0A1F3A 100%) !important;
        }

        /* Seção 6 - Sol (Estrela.jpeg - laranja/amarelo/vermelho) */
        .nasa-section:nth-of-type(8) .nasa-card {
            background: linear-gradient(135deg, #FF4500 0%, #FF8C00 100%) !important;
        }

        /* Popup com efeito Liquid Glass */
        .nav-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .nav-popup.active {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        .nav-popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .nav-popup-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .nav-popup-content {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(25px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 50px 60px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1);
            min-width: 400px;
            text-align: center;
        }

        .nav-popup-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 40px;
            background: linear-gradient(135deg, var(--accent-yellow) 0%, var(--accent-orange) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-popup-links {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .nav-popup-link {
            display: block;
            padding: 18px 30px;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-popup-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .nav-popup-link:nth-child(1)::before {
            background: linear-gradient(135deg, #ffc400 0%, #b8870b1e 100%);
        }

        .nav-popup-link:nth-child(2)::before {
            background: linear-gradient(135deg, #722F37 0%, #5C1A1F 100%);
        }

        .nav-popup-link:nth-child(3)::before {
            background: linear-gradient(135deg, #1a1a1a 0%, #000000 100%);
        }

        .nav-popup-link:hover::before {
            opacity: 1;
        }

        .nav-popup-link:hover {
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            color: var(--text-primary);
        }

        .nav-popup-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-popup-close:hover {
            background: rgba(255, 180, 180, 0.2);
            transform: rotate(90deg);
        }

        .nav-popup-trigger {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: #ffc40000;
            backdrop-filter: blur(10px);
            border: 2px solid rgb(255, 238, 0);
            border-radius: 50%;
            color: #ffee00;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            transition: all 0.6s ease-in-out;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .nav-popup-trigger:hover {
            background: rgba(0, 0, 0, 0.199);
            border: px solid rgb(255, 255, 255);
            transform: scale(1.1);
            color: #ffffff;
            box-shadow: 0 6px 30px rgba(0, 0, 0, 0.4);
        }

        @media (max-width: 768px) {
            .nav-popup-content {
                min-width: 90%;
                padding: 40px 30px;
            }

            .nav-popup-title {
                font-size: 1.5rem;
                margin-bottom: 30px;
            }

            .nav-popup-link {
                padding: 15px 25px;
                font-size: 1rem;
            }

            .nav-popup-trigger {
                width: 50px;
                height: 50px;
                bottom: 20px;
                right: 20px;
            }
        }
    </style>
</head>
<body>

    <!-- Loading Screen -->
    <div class="loader-container" id="loader">
        <div class="loader-content">
            <div class="loader-logo">
                <img src="Css/Assets/LogositePH.png" alt="Logo">
            </div>
            <div class="loader-dots">
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
            </div>
        </div>
    </div>

    <header>
        <div class="menu">
            <section class="logo">
                <img id="logo-normal" src="Css/Assets/LogoSIte.png" alt="logo">
                <img id="logo-scrolled" src="Css/Assets/LogoSiteB.png" alt="logo2">
            </section>
            <button class="menu-toggle" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <section class="menu-opcoes">
                <nav>
                    <ul>
                        <li><a href="#explicacao">Conceito</a></li>
                        <li><a href="#experimento">Protótipo</a></li>
                        <li><a href="#importancia">Experimento</a></li>
                        <li><a href="#conclusao">Importância</a></li>
                        <li><a href="#novo-topico">Conclusão</a></li>
                    </ul>
                </nav>
            </section>
        </div>
    </header>

    <!-- Background com pontos de degradê -->
    <div class="gradient-dots">
        <div class="gradient-dot"></div>
        <div class="gradient-dot"></div>
        <div class="gradient-dot"></div>
        <div class="gradient-dot"></div>
        <div class="gradient-dot"></div>
    </div>

    <!-- Hero Section estilo NASA -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">Tunelamento Quântico</h1>
            <p class="hero-subtitle">A Ponte Invisível entre Partículas e a Vida</p>
        </div>
    </section>

    <!-- Seção Explicação -->
    <section id="explicacao" class="nasa-section">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Conceito</span>
                <h2 class="section-title">O que é Tunelamento Quântico?</h2>
            </div>
            <div class="nasa-card flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-face flip-card-front">
                        <div class="card-content">
                            <div class="card-text">
                                <p class="lead-text">O tunelamento quântico é um fenômeno fascinante da mecânica quântica em que uma partícula consegue atravessar uma barreira de potencial mesmo tendo energia menor do que a altura dessa barreira, algo impossível pela física clássica, mas possível devido ao comportamento ondulatório das partículas.</p>
                            </div>
                            <div class="card-image">
                                <img src="Css/Assets/barreirafroht.jpeg" alt="Barreira de Potencial" class="experiment-image">
                            </div>
                        </div>
                    </div>
                    <div class="flip-card-face flip-card-back">
                        <div class="card-content">
                            <div class="card-text">
                                <p class="lead-text">Na mecânica quântica, partículas como elétrons e prótons são descritas por funções de onda que indicam a probabilidade de encontrá-las em determinados lugares.</p>
                                <p>Mesmo quando a energia da partícula é menor que a barreira, a função de onda se estende para além dela, permitindo uma pequena, mas real, chance de atravessamento. Esse comportamento puramente quântico é o que chamamos de tunelamento.</p>
                            </div>
                            <div class="card-image">
                                <img src="Css/Assets/barreirafroht.jpeg" alt="Representação da função de onda" class="experiment-image">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Seção Experimento -->
    <section id="experimento" class="nasa-section alt-bg">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Experimento</span>
                <h2 class="section-title">Nosso Protótipo: Barreira de Potencial</h2>
            </div>
            <div class="nasa-card flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-face flip-card-front">
                        <div class="card-content reverse">
                            <div class="card-image">
                                <img src="Css/Assets/barreiracapa.jpeg" alt="Barreira de Potencial Experimental" class="experiment-image">
                            </div>
                            <div class="card-text">
                                <p class="lead-text">Nosso protótipo representa uma barreira, conhecida como Barreira de Potencial. Se trata de uma estrutura composta de papelão, tubos de papelão, cola quente, tinta e uma folha de cortiça. </p>
                                <p>Nós queríamos demonstrar como funciona o Tunelamento Quântico, através de nosso projeto conseguimos realizar o que buscávamos. Usamos bolinhas de gude para representar o Próton, e, quando atravessasse o túnel que fizemos, o ''Próton'' teoricamente teria tunelado.</p>
                            </div>
                        </div>
                    </div>
                    <div class="flip-card-face flip-card-back">
                        <div class="card-content">
                            <div class="card-text">
                                <p class="lead-text">Durante os testes, ajustamos a inclinação e o tamanho da barreira para observar em quais condições as bolinhas conseguiam ou não atravessar o túnulo.</p>
                                <p>Esse experimento nos ajudou a fazer uma analogia visual com o tunelamento quântico, mostrando que, em nível microscópico, partículas podem atravessar barreiras mesmo quando isso parece “impossível” pela física clássica.</p>
                            </div>
                            <div class="card-image">
                                <img src="Css/Assets/barreiracapa.jpeg" alt="Detalhes do protótipo" class="experiment-image">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modelo 3D -->
    <section class="modelo-section">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Visualização</span>
                <h2 class="section-title">Modelo 3D Interativo</h2>
            </div>
            <div class="model-toggle">
                <label for="modelToggle">
                    <input type="checkbox" id="modelToggle">
                    Ativar modelo com onda de probabilidade (tunelamento avançado)
                </label>
            </div>
            <div class="Modelo3D">
                <canvas id="canvas3d"></canvas>
            </div>
        </div>
    </section>

    <!-- Seção Importância -->
    <section id="importancia" class="nasa-section">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Experimento</span>
                <h2 class="section-title">Separados pela Quântica</h2>
            </div>
            <div class="nasa-card flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-face flip-card-front">
                        <div class="card-content">
                            <div class="card-text">
                                <p class="lead-text">Este outro projeto representa dois Prótons. Ele busca demonstrar a força de repulsão causadas por leis da física, uma fronteira imposta pela física quântica. </p>
                                <p> Existe entre os prótons uma distância mínima intransponível, na qual representamos através de imãs neodímios envoltos por massinha EVA, com uns ''palitinhos'', que estavam presos em uma base para melhor controle e gestão dos itens.</p>
                            </div>
                            <div class="card-image">
                                <img src="Css/Assets/protons.jpeg" alt="Separados pela Quântica" class="experiment-image">
                            </div>
                        </div>
                    </div>
                    <div class="flip-card-face flip-card-back">
                        <div class="card-content reverse">
                            <div class="card-image">
                                <img src="Css/Assets/protons.jpeg" alt="Força de repulsão entre prótons" class="experiment-image">
                            </div>
                            <div class="card-text">
                                <p class="lead-text">Quando tentamos aproximar os prótons no modelo, os ímãs se repelem, simbolizando as forças que atuam no núcleo atômico.</p>
                                <p>Na natureza, o equilíbrio entre forças de atração e repulsão, somado a efeitos quânticos como o tunelamento, determina a estabilidade das estrelas e a formação de elementos químicos.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Seção Conclusão -->
    <section id="conclusao" class="nasa-section">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Importância</span>
                <h2 class="section-title">Qual é o Papel do Tunelamento Quântico?</h2>
            </div>
            <div class="nasa-card flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-face flip-card-front">
                        <div class="card-content reverse">
                            <div class="card-image">
                                <img src="Css/Assets/espaço.jpg" alt="Papel do Tunelamento Quântico" class="experiment-image">
                            </div>
                            <div class="card-text">
                                <p class="lead-text">O tunelamento quântico é importante pois permite que partículas atravessem barreiras impossíveis segundo a física clássica, tornando viáveis fenômenos essenciais do universo e tecnologias modernas.</p>
                                <p> Sem ele, o Sol e outras estrelas não seriam capazes de produzir energia pela fusão nuclear (consequentemente não existiria vida) e muitos dos elementos não seriam produzidos pelas estrelas. É um processo fundamental para entender tanto o funcionamento do cosmos quanto o avanço da eletrônica atual.</p>
                            </div>
                        </div>
                    </div>
                    <div class="flip-card-face flip-card-back">
                        <div class="card-content">
                            <div class="card-text">
                                <p class="lead-text">Além das estrelas, o tunelamento aparece em dispositivos como diodos, microscópios de tunelamento e memórias flash.</p>
                                <p>Essas tecnologias usam o fato de que elétrons podem “atravessar” barreiras em nanoescala, permitindo o desenvolvimento de componentes menores, mais rápidos e eficientes, essenciais para a eletrônica moderna.</p>
                            </div>
                            <div class="card-image">
                                <img src="Css/Assets/espaço.jpg" alt="Tecnologias que usam tunelamento" class="experiment-image">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Seção Sol -->
    <section id="sol" class="nasa-section">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Formação Estelar</span>
                <h2 class="section-title">O Sol e sua Formação</h2>
            </div>
            <div class="nasa-card flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-face flip-card-front">
                        <div class="card-content">
                            <div class="card-image">
                                <img src="Css/Assets/Estrela.jpeg" alt="Formação do Sol" class="experiment-image">
                            </div>
                            <div class="card-text">
                                <p class="lead-text">O tunelamento quântico é um fenômeno essencial para compreender como o universo funciona em sua escala mais fundamental.</p>
                                <p>Ele possibilita processos que seriam impossíveis pela física clássica, como o brilho do Sol, o funcionamento de tecnologias modernas, incluindo microscópios de alta resolução e memórias eletrônicas. Sem o tunelamento, tanto fenômenos naturais quanto grandes avanços tecnológicos simplesmente não existiriam.</p>
                            </div>
                        </div>
                    </div>
                    <div class="flip-card-face flip-card-back">
                        <div class="card-content reverse">
                            <div class="card-text">
                                <p class="lead-text">No interior do Sol, prótons precisam vencer a repulsão elétrica para se fundirem e formar hélio.</p>
                                <p>Graças ao tunelamento quântico, mesmo com energias abaixo da barreira clássica, essas fusões acontecem, garantindo a produção contínua de energia que chega até nós em forma de luz e calor.</p>
                            </div>
                            <div class="card-image">
                                <img src="Css/Assets/Estrela.jpeg" alt="Fusão nuclear no Sol" class="experiment-image">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

  

    <!-- Mega-seção Cecília Payne -->
    <section id="cecilia" class="nasa-section alt-bg">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Astrofísica</span>
                <h2 class="section-title">Cecília Payne-Gaposchkin: A Mulher que Leu as Estrelas</h2>
            </div>
            <div class="nasa-card flip-card cecilia-card">
                <div class="flip-card-inner">
                    <div class="flip-card-face flip-card-front">
                        <div class="card-content">
                            <div class="card-text">
                                <p class="lead-text">Cecília Payne-Gaposchkin foi a primeira pessoa a demonstrar que o Sol e as estrelas são compostos principalmente por hidrogênio e hélio, revolucionando para sempre a astrofísica.</p>
                                <p>Em sua tese de doutorado, ela conectou espectros de absorção estelar com a física quântica, mostrando como as linhas escuras na luz das estrelas revelam sua composição química.</p>
                            </div>
                            <div class="card-image">
                                <img src="Css/Assets/cecilia payne.jpeg" alt="Cecília Payne-Gaposchkin" class="experiment-image">
                            </div>
                        </div>
                    </div>
                    <div class="flip-card-face flip-card-back">
                        <div class="card-content cecilia-images-only">
                            <div class="cecilia-images-grid">
                                <img src="Css/Assets/tabela periodica optica.jpeg" alt="Tabela Periódica Óptica" class="experiment-image">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
  <!-- Nova Seção -->
    
    <section id="novo-topico" class="nasa-section alt-bg">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Conclusão</span>
                <h2 class="section-title">Impacto no Universo e Tecnologia</h2>
            </div>
            <div class="nasa-card flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-face flip-card-front">
                        <div class="card-content reverse">
                            <div class="card-image">
                                <img src="Css/Assets/terrailuminada.jpg" alt="Conclusão - Tunelamento Quântico" class="experiment-image">
                            </div>
                            <div class="card-text">
                                <p class="lead-text">O tunelamento quântico é um fenômeno essencial para compreender como o universo funciona em sua escala mais fundamental.</p>
                                <p>Ele possibilita processos que seriam impossíveis pela física clássica, como o brilho do Sol, o funcionamento de tecnologias modernas, incluindo microscópios de alta resolução e memórias eletrônicas. Sem o tunelamento, tanto fenômenos naturais quanto grandes avanços tecnológicos simplesmente não existiriam.</p>
                            </div>
                        </div>
                    </div>
                    <div class="flip-card-face flip-card-back">
                        <div class="card-content">
                            <div class="card-text">
                                <p class="lead-text">Ao unir teoria, experimento e visualizações em 3D, conseguimos aproximar a mecânica quântica do nosso cotidiano.</p>
                                <p>Essa compreensão é importante não apenas para a ciência, mas também para inspirar novas gerações a explorar a física moderna e suas aplicações futuras.</p>
                            </div>
                            <div class="card-image">
                                <img src="Css/Assets/terrailuminada.jpg" alt="Impacto científico e tecnológico" class="experiment-image">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Seção Contador de Visitas -->
    <section id="visitas" class="nasa-section alt-bg">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Estatísticas</span>
                <h2 class="section-title">Visitantes do Site</h2>
            </div>
            <div class="nasa-card">
                <div class="card-content">
                    <div class="card-text" style="text-align: center; width: 100%;">
                        <div style="font-size: 5rem; font-weight: 700; background: linear-gradient(135deg, var(--accent-yellow) 0%, var(--accent-orange) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin: 40px 0;">
                            <span id="visitCount">0</span>
                        </div>
                        <p class="lead-text" style="font-size: 1.5rem; margin-top: 20px;">
                            Pessoas já exploraram este projeto
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Popup de Navegação -->
    <div class="nav-popup-overlay" id="navPopupOverlay"></div>
    <div class="nav-popup" id="navPopup">
        <div class="nav-popup-content">
            <button class="nav-popup-close" id="navPopupClose">×</button>
            <h2 class="nav-popup-title">Navegação</h2>
            <div class="nav-popup-links">
                <a href="index.html" class="nav-popup-link">Início</a>
                <a href="Tunelamento.html" class="nav-popup-link">Tunelamento Quântico</a>
                <a href="Mecanica.html" class="nav-popup-link">Mecânica Quântica</a>
            </div>
        </div>
    </div>

    <!-- Botão para abrir popup -->
    <button class="nav-popup-trigger" id="navPopupTrigger" aria-label="Menu de Navegação">☰</button>

    <!-- Popup de navegação inferior -->
    <div class="bottom-nav-popup" id="bottomNavPopup">
        <div class="bottom-nav-popup-content">
            <a href="#explicacao" class="bottom-nav-link">Conceito</a>
            <a href="#experimento" class="bottom-nav-link">Protótipo</a>
            <a href="#importancia" class="bottom-nav-link">Experimento</a>
            <a href="#conclusao" class="bottom-nav-link">Importância</a>
            <a href="#sol" class="bottom-nav-link">Sol</a>
            <a href="#cecilia" class="bottom-nav-link">Cecília Payne</a>
            <a href="#novo-topico" class="bottom-nav-link">Conclusão</a>
            
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Popup de navegação
        const navPopup = document.getElementById('navPopup');
        const navPopupOverlay = document.getElementById('navPopupOverlay');
        const navPopupTrigger = document.getElementById('navPopupTrigger');
        const navPopupClose = document.getElementById('navPopupClose');

        function openNavPopup() {
            navPopup.classList.add('active');
            navPopupOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeNavPopup() {
            navPopup.classList.remove('active');
            navPopupOverlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        if (navPopupTrigger) {
            navPopupTrigger.addEventListener('click', openNavPopup);
        }

        if (navPopupClose) {
            navPopupClose.addEventListener('click', closeNavPopup);
        }

        if (navPopupOverlay) {
            navPopupOverlay.addEventListener('click', closeNavPopup);
        }

        // Fechar com ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && navPopup.classList.contains('active')) {
                closeNavPopup();
            }
        });
    </script>
    <script>
        // Loading Screen - Introdução mais longa
        window.addEventListener('load', function() {
            const loader = document.getElementById('loader');
            const body = document.body;
            
            // Mantém o loading por mais tempo (2.5 segundos) como introdução
            setTimeout(function() {
                // Remove a classe loading do body
                body.classList.remove('loading');
                
                // Esconde o loader após um pequeno delay para suavizar a transição
                setTimeout(function() {
                    loader.classList.add('hidden');
                    // Remove o loader do DOM após a animação
                    setTimeout(function() {
                        loader.style.display = 'none';
                    }, 500);
                }, 300);
            }, 2500); // 2.5 segundos de introdução
        });
        
        // Previne scroll durante o loading
        document.body.classList.add('loading');

        // Sistema de scroll do header e popup inferior com animação de voltando
        let lastScrollY = 0;
        let scrollingDown = false;
        const header = document.querySelector('header');
        const bottomNavPopup = document.getElementById('bottomNavPopup');
        const bottomNavLinks = document.querySelectorAll('.bottom-nav-link');
        const liquidIndicator = document.createElement('div');
        liquidIndicator.className = 'liquid-indicator';
        const bottomNavContent = document.querySelector('.bottom-nav-popup-content');
        if (bottomNavContent) {
            bottomNavContent.appendChild(liquidIndicator);
        }

        // Função para atualizar o indicador líquido
        function updateLiquidIndicator(activeLink) {
            if (!activeLink || !liquidIndicator) return;
            const linkRect = activeLink.getBoundingClientRect();
            const containerRect = bottomNavContent.getBoundingClientRect();
            liquidIndicator.style.width = linkRect.width + 'px';
            liquidIndicator.style.left = (linkRect.left - containerRect.left) + 'px';
        }

        // Mapeamento de seções para cores (baseado nas cores dos cards)
        const sectionColors = {
            'explicacao': { 
                gradient: 'linear-gradient(135deg, #D4AF37 0%, #8B6914 100%)',
                color: '#D4AF37'
            },
            'experimento': { 
                gradient: 'linear-gradient(135deg, #B8860B 0%, #8B6914 100%)',
                color: '#B8860B'
            },
            'importancia': { 
                gradient: 'linear-gradient(135deg, #DC143C 0%, #8B0000 100%)',
                color: '#DC143C'
            },
            'conclusao': { 
                gradient: 'linear-gradient(135deg, #0B1426 0%, #000000 100%)',
                color: '#0B1426'
            },
            'novo-topico': { 
                gradient: 'linear-gradient(135deg, #1E3A5F 0%, #0A1F3A 100%)',
                color: '#1E3A5F'
            },
            'sol': { 
                gradient: 'linear-gradient(135deg, #FF4500 0%, #FF8C00 100%)',
                color: '#FF4500'
            },
            'cecilia': {
                gradient: 'linear-gradient(135deg, #6A0DAD 0%, #2E004F 100%)',
                color: '#B084FF'
            }
        };

        // Função para detectar seção ativa e atualizar cores
        function updateActiveSection() {
            const sections = document.querySelectorAll('section[id]');
            const scrollPos = window.scrollY + 150;

            let activeSection = '';
            let activeSectionElement = null;
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;
                if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
                    activeSection = section.id;
                    activeSectionElement = section;
                }
            });

            // Atualiza cores do popup baseado na seção ativa
            if (activeSection && sectionColors[activeSection]) {
                const colors = sectionColors[activeSection];
                if (liquidIndicator) {
                    liquidIndicator.style.background = colors.gradient;
                    liquidIndicator.style.boxShadow = `0 0 20px ${colors.color}40`;
                }
                
                // Atualiza cor do popup também
                if (bottomNavPopup) {
                    bottomNavPopup.style.borderColor = `${colors.color}40`;
                }
            }

            bottomNavLinks.forEach(link => {
                const href = link.getAttribute('href');
                if (href === '#' + activeSection) {
                    link.classList.add('active');
                    updateLiquidIndicator(link);
                } else {
                    link.classList.remove('active');
                }
            });
        }

        window.addEventListener('scroll', function() {
            const currentScrollY = window.scrollY;
            scrollingDown = currentScrollY > lastScrollY;
            
            if (currentScrollY > 100) {
                // Esconde o header com animação
                if (!header.classList.contains('hidden')) {
                    header.style.transition = 'transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s ease';
                    header.classList.add('hidden');
                    header.classList.add('scrolled');
                }
                
                // Mostra o popup inferior
                if (bottomNavPopup && !bottomNavPopup.classList.contains('visible')) {
                    bottomNavPopup.classList.add('visible');
                }
            } else {
                // Animação de voltando - header desce suavemente
                if (header.classList.contains('hidden')) {
                    header.style.transition = 'transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.5s ease';
                    header.classList.remove('hidden');
                }
                header.classList.remove('scrolled');
                
                // Esconde o popup inferior
                if (bottomNavPopup) {
                    bottomNavPopup.classList.remove('visible');
                }
            }
            
            // Atualiza seção ativa e indicador líquido
            updateActiveSection();
            
            lastScrollY = currentScrollY;
        });

        // Inicializa o indicador líquido no primeiro link
        if (bottomNavLinks.length > 0) {
            updateLiquidIndicator(bottomNavLinks[0]);
        }

        // Atualiza indicador ao clicar nos links
        bottomNavLinks.forEach(link => {
            link.addEventListener('click', function() {
                setTimeout(() => {
                    updateActiveSection();
                }, 100);
            });
        });

        // Animação de entrada das seções
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.nasa-section, .modelo-section').forEach(section => {
            observer.observe(section);
        });

        // Smooth scroll para links do menu e popup inferior
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                    // Fechar menu mobile após clicar
                    const menuOpcoes = document.querySelector('.menu-opcoes');
                    const menuToggle = document.querySelector('.menu-toggle');
                    if (menuOpcoes && menuToggle) {
                        menuOpcoes.classList.remove('active');
                        menuToggle.classList.remove('active');
                    }
                }
            });
        });

        // Menu hambúrguer para mobile
        const menuToggle = document.querySelector('.menu-toggle');
        const menuOpcoes = document.querySelector('.menu-opcoes');
        
        if (menuToggle && menuOpcoes) {
            menuToggle.addEventListener('click', function() {
                menuToggle.classList.toggle('active');
                menuOpcoes.classList.toggle('active');
            });
            
            // Fechar menu ao clicar fora
            document.addEventListener('click', function(e) {
                if (!menuToggle.contains(e.target) && !menuOpcoes.contains(e.target)) {
                    menuToggle.classList.remove('active');
                    menuOpcoes.classList.remove('active');
                }
            });
        }

        // Animação de giro dos cards (flip)
        const flipCards = document.querySelectorAll('.flip-card');
        flipCards.forEach(card => {
            card.addEventListener('click', () => {
                card.classList.toggle('flipped');
            });
        });

        // Configuração do modelo 3D com troca entre modelo padrão e modelo com onda
        const canvas = document.getElementById('canvas3d');
        if (canvas && typeof THREE !== 'undefined') {
            let scene, camera, renderer;
            let barrierGroup = null;
            let particles = [];
            let waveConfig = null;
            let isDragging = false;
            let previousMousePosition = { x: 0, y: 0 };
            let rotationX = 0;
            let rotationY = 0;
            let distance = 5;
            let currentModelType = 'default';

            function initRenderer() {
                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(75, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
                renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
                renderer.setSize(canvas.clientWidth, canvas.clientHeight);
                renderer.setPixelRatio(window.devicePixelRatio);

                const ambientLight = new THREE.AmbientLight(0xffffff, 0.3);
                scene.add(ambientLight);
                
                const pointLight1 = new THREE.PointLight(0xffff00, 4);
                pointLight1.position.set(5, 5, 5);
                scene.add(pointLight1);
                
                const pointLight2 = new THREE.PointLight(0xff6600, 3);
                pointLight2.position.set(-5, -5, 5);
                scene.add(pointLight2);
                
                const pointLight3 = new THREE.PointLight(0xffaa00, 2.5);
                pointLight3.position.set(0, 5, -5);
                scene.add(pointLight3);
                
                const pointLight4 = new THREE.PointLight(0xffffff, 2);
                pointLight4.position.set(0, -5, 0);
                scene.add(pointLight4);

                camera.position.z = distance;

                // Controles de câmera (mouse e touch)
                canvas.addEventListener('mousedown', (e) => {
                    isDragging = true;
                    previousMousePosition = { x: e.clientX, y: e.clientY };
                });
                
                canvas.addEventListener('mousemove', (e) => {
                    if (isDragging) {
                        const deltaX = e.clientX - previousMousePosition.x;
                        const deltaY = e.clientY - previousMousePosition.y;
                        
                        rotationY += deltaX * 0.01;
                        rotationX += deltaY * 0.01;
                        
                        previousMousePosition = { x: e.clientX, y: e.clientY };
                    }
                });
                
                canvas.addEventListener('mouseup', () => {
                    isDragging = false;
                });

                canvas.addEventListener('mouseleave', () => {
                    isDragging = false;
                });
                
                canvas.addEventListener('wheel', (e) => {
                    e.preventDefault();
                    distance += e.deltaY * 0.01;
                    distance = Math.max(3, Math.min(10, distance));
                });
                
                canvas.addEventListener('touchstart', (e) => {
                    if (e.touches.length === 1) {
                        isDragging = true;
                        previousMousePosition = { x: e.touches[0].clientX, y: e.touches[0].clientY };
                    }
                });
                
                canvas.addEventListener('touchmove', (e) => {
                    if (isDragging && e.touches.length === 1) {
                        const deltaX = e.touches[0].clientX - previousMousePosition.x;
                        const deltaY = e.touches[0].clientY - previousMousePosition.y;
                        
                        rotationY += deltaX * 0.01;
                        rotationX += deltaY * 0.01;
                        
                        previousMousePosition = { x: e.touches[0].clientX, y: e.touches[0].clientY };
                    }
                });
                
                canvas.addEventListener('touchend', () => {
                    isDragging = false;
                });

                window.addEventListener('resize', () => {
                    camera.aspect = canvas.clientWidth / canvas.clientHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(canvas.clientWidth, canvas.clientHeight);
                });
            }

            function createBaseAndBarrierTall() {
                barrierGroup = new THREE.Group();

                const baseGeometry = new THREE.BoxGeometry(8, 0.2, 2);
                const baseMaterial = new THREE.MeshStandardMaterial({ color: 0x1a1a1a });
                const base = new THREE.Mesh(baseGeometry, baseMaterial);
                base.position.y = -1;
                barrierGroup.add(base);
                
                const barrierShape = new THREE.Shape();
                barrierShape.moveTo(-3, 0);
                barrierShape.quadraticCurveTo(-1, 4, 0, 8);
                barrierShape.quadraticCurveTo(1, 2, 3, 0);
                barrierShape.lineTo(3, -1);
                barrierShape.lineTo(-3, -1);
                barrierShape.lineTo(-3, 0);
                
                const extrudeSettings = {
                    depth: 1.5,
                    bevelEnabled: false,
                    steps: 1
                };
                
                const barrierGeometry = new THREE.ExtrudeGeometry(barrierShape, extrudeSettings);
                const barrierMaterial = new THREE.MeshStandardMaterial({
                    color: 0xD4AF37,
                    emissive: 0xFFD700,
                    emissiveIntensity: 0.3,
                    metalness: 0.3,
                    roughness: 0.7
                });
                const barrier = new THREE.Mesh(barrierGeometry, barrierMaterial);
                barrier.rotation.y = Math.PI / 2;
                barrier.position.y = -0.5;
                barrierGroup.add(barrier);

                const tunnelGeometry = new THREE.CylinderGeometry(0.3, 0.3, 1.5, 16);
                const tunnelMaterial = new THREE.MeshBasicMaterial({
                    color: 0x000000,
                    transparent: true,
                    opacity: 0.3
                });
                const tunnel = new THREE.Mesh(tunnelGeometry, tunnelMaterial);
                tunnel.rotation.z = Math.PI / 2;
                tunnel.position.set(0, 0.5, 0);
                barrierGroup.add(tunnel);
            }

            function createBaseAndBarrierWave() {
                barrierGroup = new THREE.Group();

                const baseGeometry = new THREE.BoxGeometry(8, 0.2, 2);
                const baseMaterial = new THREE.MeshStandardMaterial({ color: 0x1a1a1a });
                const base = new THREE.Mesh(baseGeometry, baseMaterial);
                base.position.y = -1;
                barrierGroup.add(base);
                
                const barrierShape = new THREE.Shape();
                barrierShape.moveTo(-3, 0);
                barrierShape.quadraticCurveTo(-1, 2, 0, 2.5);
                barrierShape.quadraticCurveTo(1, 2, 3, 0);
                barrierShape.lineTo(3, -1);
                barrierShape.lineTo(-3, -1);
                barrierShape.lineTo(-3, 0);
                
                const extrudeSettings = {
                    depth: 1.5,
                    bevelEnabled: false,
                    steps: 1
                };
                
                const barrierGeometry = new THREE.ExtrudeGeometry(barrierShape, extrudeSettings);
                const barrierMaterial = new THREE.MeshStandardMaterial({
                    color: 0xD4AF37,
                    emissive: 0xFFD700,
                    emissiveIntensity: 0.3,
                    metalness: 0.3,
                    roughness: 0.7
                });
                const barrier = new THREE.Mesh(barrierGeometry, barrierMaterial);
                barrier.rotation.y = Math.PI / 2;
                barrier.position.y = -0.5;
                barrierGroup.add(barrier);

                const tunnelGeometry = new THREE.CylinderGeometry(0.3, 0.3, 1.5, 16);
                const tunnelMaterial = new THREE.MeshBasicMaterial({
                    color: 0x000000,
                    transparent: true,
                    opacity: 0.3
                });
                const tunnel = new THREE.Mesh(tunnelGeometry, tunnelMaterial);
                tunnel.rotation.z = Math.PI / 2;
                tunnel.position.set(0, 0.5, 0);
                barrierGroup.add(tunnel);
            }

            function buildDefaultModel() {
                particles = [];
                waveConfig = null;
                createBaseAndBarrierTall();

                const particleCount = 20;
                const particleGeometry = new THREE.SphereGeometry(0.15, 8, 8);
                const particleMaterial = new THREE.MeshStandardMaterial({
                    color: 0xDC143C,
                    emissive: 0xFF0000,
                    emissiveIntensity: 0.5,
                    metalness: 0.8,
                    roughness: 0.2
                });
                
                for (let i = 0; i < particleCount; i++) {
                    const particle = new THREE.Mesh(particleGeometry, particleMaterial);
                    particle.position.set(
                        (Math.random() - 0.5) * 10,
                        Math.random() * 3 - 1,
                        (Math.random() - 0.5) * 2
                    );
                    particles.push(particle);
                    barrierGroup.add(particle);
                }

                scene.add(barrierGroup);
            }

            function buildWaveModel() {
                particles = [];
                createBaseAndBarrierWave();

                const waveGroup = new THREE.Group();
                barrierGroup.add(waveGroup);

                const waveLength = 12;
                const sampleCount = 400;
                const waveAmplitude = 0.6;
                const k = 1.5;
                const omega = 1.5;

                const wavePoints = [];
                for (let i = 0; i <= sampleCount; i++) {
                    const x = -6 + (i / sampleCount) * waveLength;
                    const y = 0;
                    const z = 0.1;
                    wavePoints.push(new THREE.Vector3(x, y, z));
                }

                const waveGeometry = new THREE.BufferGeometry().setFromPoints(wavePoints);
                const waveMaterial = new THREE.LineBasicMaterial({
                    color: 0x00ffff,
                    transparent: true,
                    opacity: 0.9
                });

                const waveLine = new THREE.Line(waveGeometry, waveMaterial);
                waveGroup.add(waveLine);

                waveConfig = {
                    geometry: waveGeometry,
                    amplitude: waveAmplitude,
                    k,
                    omega,
                    barrierStart: -3.0,
                    barrierEnd: 3.0
                };

                scene.add(barrierGroup);
            }

            function switchModel(type) {
                currentModelType = type;
                if (barrierGroup) {
                    scene.remove(barrierGroup);
                    barrierGroup = null;
                }
                particles = [];
                waveConfig = null;

                if (type === 'wave') {
                    buildWaveModel();
                } else {
                    buildDefaultModel();
                }
            }

            function animate() {
                requestAnimationFrame(animate);

                const x = Math.sin(rotationY) * distance;
                const z = Math.cos(rotationY) * distance;
                camera.position.x = x;
                camera.position.z = z;
                camera.position.y = Math.sin(rotationX) * distance + 1;
                camera.lookAt(0, 0, 0);

                if (currentModelType === 'default' && particles.length > 0) {
                    particles.forEach((particle, index) => {
                        particle.position.x += Math.sin(Date.now() * 0.001 + index) * 0.01;
                        particle.position.y += Math.cos(Date.now() * 0.001 + index * 0.5) * 0.005;
                    });
                }

                if (currentModelType === 'wave' && waveConfig) {
                    const positions = waveConfig.geometry.attributes.position;
                    const time = performance.now() * 0.001;

                    const barrierStart = waveConfig.barrierStart;
                    const barrierEnd = waveConfig.barrierEnd;
                    const transmittedAmplitude = 0.4;

                    for (let i = 0; i < positions.count; i++) {
                        const px = positions.getX(i);
                        const phase = waveConfig.k * px - waveConfig.omega * time;

                        let envelope = 1.0;

                        if (px >= barrierStart && px <= barrierEnd) {
                            const s = (px - barrierStart) / (barrierEnd - barrierStart);
                            const smooth = 3 * s * s - 2 * s * s * s;
                            envelope = 1 + (transmittedAmplitude - 1) * smooth;
                        } else if (px > barrierEnd) {
                            envelope = transmittedAmplitude;
                        }

                        const py = Math.sin(phase) * waveConfig.amplitude * envelope;
                        positions.setY(i, py);
                    }
                    positions.needsUpdate = true;
                }

                if (barrierGroup) {
                    barrierGroup.rotation.y += currentModelType === 'wave' ? 0.0015 : 0.002;
                }

                renderer.render(scene, camera);
            }

            initRenderer();
            buildDefaultModel();
            animate();

            const modelToggle = document.getElementById('modelToggle');
            if (modelToggle) {
                modelToggle.addEventListener('change', (e) => {
                    switchModel(e.target.checked ? 'wave' : 'default');
                });
            }
        }

        // Contador de visitas
        function updateVisitCount() {
            let visitCount = localStorage.getItem('siteVisitCount');
            if (!visitCount) {
                visitCount = 0;
            }
            visitCount = parseInt(visitCount) + 1;
            localStorage.setItem('siteVisitCount', visitCount);
            
            const visitCountElement = document.getElementById('visitCount');
            if (visitCountElement) {
                // Animação de contagem
                let current = 0;
                const target = visitCount;
                const duration = 2000;
                const increment = target / (duration / 16);
                
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    visitCountElement.textContent = Math.floor(current).toLocaleString('pt-BR');
                }, 16);
            }
        }
        
        // Atualiza contador ao carregar a página
        updateVisitCount();
    </script>
</body>
</html>



